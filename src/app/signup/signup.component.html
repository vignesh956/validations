<ion-content>

    <div class="FormBody" *ngIf="!signupDone">
      <ion-row>
        <ion-col size="12" style="text-align: center;">
          <ion-text
            style="font-size: 25px;color: black;padding: 10px; font-family: Source Sans Pro, Helvetica Neue, Helvetica, Arial, sans-serif;">
            <b> User Registration </b>
          </ion-text>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" style="text-align: center;">
          <ion-text style="font-size: 15px;color: black;padding: 10px;">
            <b> Join us to find interesting thing </b>
          </ion-text>
        </ion-col>
      </ion-row>
      <br>
      <form style="border-bottom: 1px solid grey;" novalidate (ngSubmit)="signup()" [formGroup]="signupform">
  
        <!-- first name -->
  
  
        <ion-row>
          <ion-col offset="1" size='10' csize-xs="10" size-sm="10" size-md="10" size-lg="10" size-xl="10">
  
            <ion-item style="border: 1px solid grey;">
              <ion-input placeholder="First Name" required type="text" style="height: 20px;"
                [(ngModel)]="userData.firstName" formControlName="firstName"
                [class.error1]="!signupform.controls.firstName.valid && signupform.controls.firstName.dirty">
              </ion-input>
            </ion-item>
            <ion-item no-lines
              *ngIf="( signupform.get('firstName').hasError('minlength') || signupform.get('firstName').hasError('maxlength') ||signupform.get('firstName').hasError('pattern') ||signupform.get('firstName').hasError('required') ) && signupform.get('firstName').touched">
              <div class="error"
                *ngIf="signupform.get('firstName').hasError('required') && signupform.get('firstName').touched">
                Please input your firstName
              </div>
              <div class="error"
                *ngIf="signupform.get('firstName').hasError('minlength') && signupform.get('firstName').touched">
                Minimum 4 characters
              </div>
              <div class="error"
                *ngIf="signupform.get('firstName').hasError('maxlength') && signupform.get('firstName').touched">
                Maximum 30 characters
              </div>
              <div class="error"
                *ngIf="signupform.get('firstName').hasError('pattern') && signupform.get('firstName').touched">
                Just use alphabet character
              </div>
            </ion-item>
          </ion-col>
        </ion-row>
        <!-- last name -->
        <ion-row>
          <ion-col offset="1" size='10' csize-xs="10" size-sm="10" size-md="10" size-lg="10" size-xl="10">
  
            <ion-item style="border: 1px solid grey;">
              <ion-input placeholder="Last Name" required type="text" style="height: 20px;"
                [(ngModel)]="userData.lastName" formControlName="lastName"
                [class.error1]="!signupform.controls.lastName.valid && signupform.controls.lastName.dirty"></ion-input>
            </ion-item>
            <ion-item no-lines
              *ngIf="( signupform.get('lastName').hasError('minlength') || signupform.get('lastName').hasError('maxlength') ||signupform.get('lastName').hasError('pattern') ||signupform.get('lastName').hasError('required') ) && signupform.get('lastName').touched">
              <div class="error"
                *ngIf="signupform.get('lastName').hasError('required') && signupform.get('lastName').touched">
                Please input your last Name
              </div>
              <div class="error"
                *ngIf="signupform.get('lastName').hasError('minlength') && signupform.get('lastName').touched">
                Minimum 4 characters
              </div>
              <div class="error"
                *ngIf="signupform.get('lastName').hasError('maxlength') && signupform.get('lastName').touched">
                Maximum 30 characters
              </div>
              <div class="error"
                *ngIf="signupform.get('lastName').hasError('pattern') && signupform.get('lastName').touched">
                Just use alphabet character
              </div>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col offset="1" size="3" size-sm="3" size-md="3" size-lg="3">
            <select style="height:50px; width:  105px;;" [value]="dialCode.name" (change)="dialChanged($event)">
              <ng-container *ngFor="let code of countryCodes">
                <option *ngIf="code.name === 'Country'" disabled selected>Country</option>
                <option *ngIf="code.name !== 'Country'">
                  {{code.name}}
                </option>
              </ng-container>
            </select>
  
          </ion-col>
          <ion-col offset="0" size="8" size-sm="8" size-md="8" size-lg="8">
  
              <ion-item style="border: 1px solid grey;  width: 260px;">
                <ion-input placeholder="Mobile Number" required type="text" style="height: 20px;"
                  [(ngModel)]="userData.mobile" formControlName="mobile"
                  [class.error1]="!signupform.controls.mobile.valid && signupform.controls.mobile.dirty">{{ dialCode.code }}&nbsp;</ion-input>
              </ion-item>
              <ion-item no-lines
              *ngIf="( signupform.get('mobile').hasError('minlength') || signupform.get('mobile').hasError('pattern') ||signupform.get('mobile').hasError('required') ) && signupform.get('mobile').touched">
              <div class="error" *ngIf="signupform.get('mobile').hasError('required') && signupform.get('mobile').touched">
                &nbsp; Please input your mobile number
              </div>
              <!-- <div class="error" *ngIf="signupform.get('mobile').hasError('pattern') && signupform.get('mobile').touched">
               &nbsp; mobile number invalid
              </div> -->
              <div class="error"
              *ngIf="(signupform.get('mobile').hasError('minlength') || signupform.get('mobile').hasError('maxlength')) && signupform.get('mobile').touched">
              &nbsp; mobile number is invalid..please enter only 10 digits
            </div>
                </ion-item>
            </ion-col>
        </ion-row>
        <!-- email -->
        <ion-row>
          <ion-col offset="1" size='10' csize-xs="10" size-sm="10" size-md="10" size-lg="10" size-xl="10">
  
            <ion-item style="border: 1px solid grey;">
              <ion-input placeholder="Email" required type="email" style="height: 20px;" [(ngModel)]="userData.email"
                formControlName="email"
                [class.error1]="!signupform.controls.email.valid && signupform.controls.email.dirty"></ion-input>
            </ion-item>
            <ion-item no-lines
              *ngIf="( signupform.get('email').hasError('minlength') || signupform.get('email').hasError('pattern') ||signupform.get('email').hasError('required') ) && signupform.get('email').touched">
              <div class="error" *ngIf="signupform.get('email').hasError('required') && signupform.get('email').touched">
                Please input your email
              </div>
              <div class="error" *ngIf="signupform.get('email').hasError('pattern') && signupform.get('email').touched">
                Email address invalid
              </div>
            </ion-item>
          </ion-col>
        </ion-row>
        <!-- password -->
        <ion-row>
          <ion-col offset="1" size='10' csize-xs="10" size-sm="10" size-md="10" size-lg="10" size-xl="10">
            <ion-item style="border: 1px solid grey;">
              <ion-input #password placeholder="Password" [type]="passwordType" style="height: 20px;"
                [(ngModel)]="userData.password" formControlName="password"
                [class.error1]="!signupform.controls.password.valid && signupform.controls.password.dirty"></ion-input>
              <ion-icon style="cursor: pointer;" [title]="passwordTitle" item-end [name]="passwordIcon"
                class="passwordIcon" (click)='hideShowPassword()'></ion-icon>
            </ion-item>
            <ion-item no-lines
              *ngIf="( signupform.get('password').hasError('minlength') || signupform.get('password').hasError('maxlength') ||signupform.get('password').hasError('required') ) && signupform.get('password').touched">
              <div class="error"
                *ngIf="signupform.get('password').hasError('required') && signupform.get('password').touched">
                Please input your password
              </div>
              <div class="error"
                *ngIf="signupform.get('password').hasError('minlength') && signupform.get('password').touched">
                Minimum 6 characters
              </div>
              <div class="error"
                *ngIf="signupform.get('password').hasError('maxlength') && signupform.get('password').touched">
                Maximum 12 characters
              </div>
            </ion-item>
          </ion-col>
        </ion-row>
        <!-- retype password -->
        <ion-row>
          <ion-col offset="1" size='10' csize-xs="10" size-sm="10" size-md="10" size-lg="10" size-xl="10">
            <ion-item style="border: 1px solid grey;">
              <ion-input #retypePassword placeholder="Re Type Password " type="Password" style="height: 20px; "
                [(ngModel)]="userData.retypePassword" formControlName="retypePassword"
                [class.error1]="!signupform.controls.retypePassword.valid && signupform.controls.retypePassword.dirty && userData.password !== userData.retypePassword && signupform.get('retypePassword').touched">
              </ion-input>
            </ion-item>
            <!-- <ion-item no-lines *ngIf="signupform.get('retypePassword').touched || userData.password !== userData.retypePassword  "> -->
            <!-- <div class="error" *ngIf="signupform.get('retypePassword').hasError('required') && signupform.get('retypePassword').touched">
                Please Re Type your password &nbsp;
              </div> -->
            <ion-item *ngIf="userData.password !== userData.retypePassword && signupform.get('retypePassword').touched">
              <div class="error"
                *ngIf="userData.password !== userData.retypePassword && signupform.get('retypePassword').touched">
                Passwords Must Match
              </div>
  
  
            </ion-item>
  
          </ion-col>
          <!-- <p *ngIf="userData.password == userData.retypePassword ">helloooo</p> -->
        </ion-row>
  
  
        <!-- agree Terms -->
  
        <ion-row>
          <ion-col size="1" offset="1.3" csize-xs="0.7" size-sm="0.7" size-md="0.7" size-lg="0.7" size-xl="0.7">
            <ion-checkbox [(ngModel)]="userData.agreeTerms" formControlName="agreeTerms" color="primary"></ion-checkbox>
          </ion-col>
          <ion-col csize-xs="8" size-sm="8" size-md="8" size-lg="8" size-xl="8">
            <ion-label position="floating">Agree the <a href='/privacy' target="_blank" style="color: blue;">terms and
                policy</a> </ion-label>
          </ion-col>
        </ion-row>
  
        <ion-row>
          <ion-col offset="1" size="10">
            <section class="full-width">
              <ion-button (click)="signupBtn()"
                [disabled]="signupform.invalid || userData.password !== userData.retypePassword" expand="full"
                shape="round" color="primary">SignUp</ion-button>
            </section>
          </ion-col>
        </ion-row>
  
      </form>
  
      <ion-row>
        <ion-col offset="2.5" size="8">
          <ion-text>Already have an account? <a routerLink="/login">Sign In.</a> </ion-text>
        </ion-col>
      </ion-row>
    </div>
  
    <div *ngIf="signupDone" class="verifyMail">
      <ion-row>
        <ion-col size="12" style="text-align: center; border-bottom: 1px black double;">
          <ion-icon style="color: green;font-size: 15px" name="checkmark-circle"></ion-icon>
          <ion-text style="font-size: 25px;color: white;padding: 10px; font-family: Source Sans Pro, Helvetica Neue;">
            A verification link has been sent to your email account. </ion-text>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" style="text-align: center;">
          <ion-text style="font-size: 18px;color: white;padding: 10px; font-family: Source Sans Pro, Helvetica Neue;">
            Hey.. <span style="color: blue;font-size: 25px;">{{userData.firstName}}</span> Welcome to Renastico, Please
            click on the Link that has just been sent to your email account <span style="color: blue;font-size: 25px;">
              {{userData.email}}</span> to verify your email and continue the registration process. </ion-text>
          <br><br>
          <ion-text style="color: white;">Click here to go to <a routerLink="/login">Login Page.</a></ion-text>
        </ion-col>
      </ion-row>
  
    </div>

</ion-content>
